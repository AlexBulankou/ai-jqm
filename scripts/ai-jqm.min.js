/*!
 * ApplicationInsights JS SDK extension for jQuery Mobile v0.1
 * https://github.com/AlexBulankou/ai-jqm
 *
 * Copyright 2016 (c) Alex Bulankou
 * Licensed under the MIT license
 * https://github.com/AlexBulankou/ai-jqm/blob/master/LICENSE
 */

!function(){var n=null;$(document).bind("pagebeforechange",function(t,o){if(!n){var a=null;if(o.options&&o.options.dataUrl&&"string"==typeof o.options.dataUrl?a=o.options.dataUrl:o.toPage&&"string"==typeof o.toPage&&(a=o.toPage),a){var i=a;i=a.indexOf("#")>-1?a.substring(a.indexOf("#")):"#",n={url:a,name:i},window.appInsights.startTrackPage(i)}}}),$(document).bind("pagebeforeshow",function(t,o){n&&(window.appInsights.context.operation=new Microsoft.ApplicationInsights.Context.Operation,window.appInsights.context.operation.name=n.name)}),$(document).bind("pageshow",function(t,o){n&&(window.appInsights.stopTrackPage(n.name,n.url),n=null)})}();